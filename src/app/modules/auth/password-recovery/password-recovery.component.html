<div class="login-form mx-auto w-1/2 flex items-center justify-center h-[90vh]">
  <form
    class="flex flex-col gap-4"
    [formGroup]="recoveryForm"
    (ngSubmit)="onSubmit()"
    *ngIf="!sended && !isLoading"
  >
    <div class="flex flex-col gap-8 justify-center items-center">
      <p class="text-3xl text-center whitespace-pre">
        Ingresa tu mail de usuario para recuperar la contraseña
      </p>
      <div>
        <input
          class="form-input text-gray-900 mt-1 block self-end rounded-md border-gray-300 shadow-md focus:border-light-navbar caret-green focus:ring-2 focus:ring-light-navbar focus:ring-opacity-5"
          type="email"
          id="email"
          placeholder="example@hackacode.com"
          formControlName="username"
        />

        <div
          *ngIf="
            recoveryForm.get('username')?.invalid &&
            recoveryForm.get('username')?.errors &&
            (recoveryForm.get('username')?.dirty ||
              recoveryForm.get('username')?.touched)
          "
        >
          <small
            class="dark:text-yellow-200 text-light-primary"
            *ngIf="recoveryForm.get('username')?.hasError('required')"
            >Este campo no puede estar vacío.</small
          >
          <small
            class="dark:text-yellow-200 text-light-primary"
            *ngIf="recoveryForm.get('username')?.hasError('email')"
            >Debe ingresar un email valido.</small
          >
        </div>
        <small
          class="dark:text-yellow-200 text-light-primary"
          *ngIf="errorMessage !== ''"
          >{{ errorMessage }}</small
        >
      </div>
    </div>
    <button type="submit">Enviar</button>
  </form>
  <div class="flex-1" *ngIf="isLoading">
    <app-loader></app-loader>
  </div>
  <div
    class="flex flex-col justify-center items-center text-center"
    *ngIf="sended"
  >
    <p class="text-3xl">Se ha enviado un correo a tu casilla de correo.</p>
    <p class="text-3xl">
      Por favor, revisa tu casilla de correo y sigue los pasos para recuperar tu
      contraseña.
    </p>
    <p class="text-xl">Puedes cerrar esta pestaña.</p>
  </div>
</div>
