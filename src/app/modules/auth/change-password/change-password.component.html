<div class="login-form mx-auto w-full flex flex-col items-center justify-center h-[90vh]">


  <form
    class="flex flex-col gap-4 min-w-[350px] "
    [formGroup]="changeForm"
    (ngSubmit)="onSubmit()"
    *ngIf="!isLoading && errorMessage === ''"
  >

    <div class="flex flex-col gap-4 w-full">
        <div>
          <p>
              Ingresa tu nueva contraseña
          </p>
        <input
          class="form-input text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-md focus:border-light-navbar caret-green focus:ring-2 focus:ring-light-navbar focus:ring-opacity-5"
          type="password"
          id="password"
          placeholder="Nueva contraseña"
          formControlName="password"
        />
        <div
        *ngIf="
          changeForm.get('password')?.invalid &&
          changeForm.get('password')?.errors &&
          (changeForm.get('password')?.dirty ||
            changeForm.get('password')?.touched)
        "
      >
        <small
          class="dark:text-yellow-200 text-light-primary"
          *ngIf="changeForm.get('password')?.hasError('required')"
          >Este campo no puede estar vacío.</small
        >
        <small
          class="dark:text-yellow-200 text-light-primary"
          *ngIf="changeForm.get('password')?.hasError('minlength')"
          >
          La contraseña debe tener al menos 8 caracteres.
          </small
        >
      </div>
      </div>
      <div>
        <p>
            Repite tu nueva contraseña
        </p>
          <input
          class="form-input text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-md focus:border-light-navbar caret-green focus:ring-2 focus:ring-light-navbar focus:ring-opacity-5"
          type="password"
          id="password2"
          placeholder="Repita la contraseña"
          formControlName="confirm"
          />
          <div
            *ngIf="
              changeForm.get('confirm')?.invalid &&
              changeForm.get('confirm')?.errors &&
              (changeForm.get('confirm')?.dirty ||
                changeForm.get('confirm')?.touched)
            "
          >
            <small
              class="dark:text-yellow-200 text-light-primary"
              *ngIf="changeForm.get('confirm')?.hasError('required')"
              >Este campo no puede estar vacío.</small
            >
            <small
              class="dark:text-yellow-200 text-light-primary"
              *ngIf="changeForm.get('confirm')?.hasError('minlength')"
              >
              La contraseña debe tener al menos 8 caracteres.
              </small
            >
          </div>
        </div>
      </div>
      <app-password-check
      [password]="changeForm.get('password')?.value"
      ></app-password-check>
      <div
      class="text-cenet"
      *ngIf="
      changeForm.get('confirm')?.value !== changeForm.get('password')?.value
      "
      >
      Las contraseñas no coinciden
    </div>
    <button type="submit">Confirmar</button>
  </form>
  <div class="flex flex-col mx-auto w-full justify-center items-center">
  <div *ngIf="isLoading" class="w-full ">
    <app-loader></app-loader>
  </div>
  <div>
    <p class="text-2xl text-center w-fit" *ngIf="!isLoading">{{errorMessage}}</p>
  </div>
</div>
</div>
